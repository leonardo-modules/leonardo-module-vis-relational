{% extends widget.get_base_template %}

{% block content %}
<div id="{{ widget.fe_identifier }}-graph" class="treemap"></div>
<script>
$(document).ready(function() {
  var placeholder = '#{{ widget.fe_identifier }}-graph'
  var parent_box = $(placeholder).parent();
  width = parent_box.width();
  var config = {
    'width': width,
    'height': width*2/3,
    'placeholder': placeholder,
    'data_source': "{{ widget.get_data }}"
  }
  treemap(config);
});
</script>
{% endblock %}